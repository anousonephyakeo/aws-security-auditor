[tox]
envlist = py39, py310, py311, py312, lint, security
isolated_build = True

[testenv]
description = Run pytest against all supported python versions
deps = 
    pytest
    pytest-cov
    moto[all]
commands = 
    pytest tests/ --cov=auditor --cov-report=xml

[testenv:lint]
description = Run code formatting and linting
deps = 
    black
    ruff
commands = 
    black --check auditor tests
    ruff check auditor tests

[testenv:security]
description = Run bandit security scanning
deps = bandit
commands = bandit -r auditor -c pyproject.toml
